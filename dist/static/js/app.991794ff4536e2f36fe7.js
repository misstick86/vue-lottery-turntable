webpackJsonp([1],{101:function(t,e){},102:function(t,e){},106:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAMAAAC6CgRnAAAAgVBMVEUAAAD/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgT/bgRUF/t+AAAAKnRSTlMA8u7J9tbp3pF7E86wm0If29G9qm5OSDImEOO2o5aJdWRdVDkrFwsFAl/8DtH6AAAA9klEQVQoz12RWXLCMBBEW4sXvGI73oBA2Inuf8CAGY2GvA9LrVcl1bTB9KWJlW663wz/OCTOo9K7NLVxknUV1JcN51H0+qZe/bhActbLWr5VJq+rR9oMi8uFOnCy19djQhWYeN8C0MJdsQ9hwiDUEQ8VUopdCCugctYqqqFBw2oLIMvm2c+0QcxuBkFHGlzJicwj8r1C82NE5wiNtZ+MuPAbMYr3xrQmXwqOQus4Liv3uw1xh1sI/WeBFZByqDHJHwzg7idMgEi4C56cKXRYseCZvun+m1AGENL2Jqg2g+dknxUpeaGgLuR9Iz4Z9ybRSm/ycgDxB+Y8S7/CJdHnAAAAAElFTkSuQmCC"},107:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAMAAACrZuH4AAAAllBMVEUAAAD/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgT/vgSPFEFAAAAAMXRSTlMA9wUUMeGPDgnvwbZ2HdTRoYuDbFI3GObYyrw+87CTYkUhq6WbKiXcl1xWSOp7LExod5Q7/wAAAdpJREFUOMtlU9digzAMtFlhr4QZIBDIXr3//7nKEAqFe8GWT/MEm6CfD5qVeZmlHU46W0PftQZGGMfdZknYlyC4Zeu3pQeCtf9P2CZAoj2ajUTRmjpQgac9JwQArxppMjhaAWh/BikE1N0i7eMyoxw40ogtobjAdji+E6gKW+N0wbO3Sz74vXe6NWMVt/5lx3EUeSIOn75xZyAdOoxcFL5DhytAFukKg4o4e+AGMlnMzoRBlZ0oagJfZ2cVR50ulX2vty/hKdvb+m5fFfJukSjsMFS8xu4mUZf0GOAZCcd6KUTAS4fa7NgRqUMOl1xeMGyglT3kLIcni77ybwxpxlBPFjJmCkYOmLoYyY/WVVtl6PlCjQiGBTdmFaBRLUJSCJHjnnKLdQ8m6ygWk0NbZnGOEabDBMQoSkrHv7L6mHAcTJ8CIdsXCAa5DUwoBq8Q/MM2VGqftsMcvjDJGbKYjUOVXaTWNXy9XuG1dHFx+sUZn9QzaWs/mnGsm6a2ieGkSPvwNwjt1pB84GfwaIFAWhNCoPxGbTygWgq3CQD3PN7e7uoPiiwgVWZLawLPKpr2XEuA7D13kasCKMzwvlf29zA3AN4t16G2hplyCBj5h61RB6bKBUc1tcfU2y83dj7V1kH5XAAAAABJRU5ErkJggg=="},108:function(t,e){t.exports="data:image/png;base64,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"},109:function(t,e,n){function i(t){n(101)}var r=n(46)(n(50),n(110),i,null,null);t.exports=r.exports},110:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"banner"},[n("div",{staticClass:"turnplate"},[n("canvas",{staticClass:"item",attrs:{id:"wheelcanvas",width:"422px",height:"422px"}}),t._v(" "),n("img",{staticClass:"pointer",attrs:{id:"pointer",src:t.imgSrc},on:{click:t.startGame}})]),t._v(" "),n("img",{staticStyle:{display:"none"},attrs:{src:t.shanImg,id:"shan-img"}}),t._v(" "),n("img",{staticStyle:{display:"none"},attrs:{src:t.sorryImg,id:"sorry-img"}})])},staticRenderFns:[]}},111:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"left"},[n("h1",[t._v("这里是数据输入:")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.UserNameString,expression:"UserNameString"}],staticClass:"textarea",attrs:{placeholder:"输入你想要的名字,并以逗号分隔。"},domProps:{value:t.UserNameString},on:{input:function(e){e.target.composing||(t.UserNameString=e.target.value)}}}),t._v(" "),n("p",[t._v(t._s(t.UserNameString))]),t._v(" "),n("button",{staticClass:"btn",on:{click:t.onclick}},[t._v("完成")])]),t._v(" "),n("div",{staticClass:"right"},[n("lottery-turntable",{key:t.componentKey,attrs:{id:"lottery",restaraunts:t.rests,colors:t.colors}})],1)])},staticRenderFns:[]}},47:function(t,e,n){function i(t){n(102)}var r=n(46)(n(49),n(111),i,null,null);t.exports=r.exports},49:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(109),r=n.n(i);e.default={name:"app",data:function(){return{componentKey:0,UserNameString:"",rests:[],defaultColors:["#85C1E9","#FFFAFA","#FAF0E6","#839192","#F8C471","#EE7942","#8B8B00","#FFEC8B","#BCEE68","#27AE60"],colors:[]}},methods:{onclick:function(t){this.rests=this.UserNameString.split(",");var e=this.rests.length;if(this.colors=this.defaultColors,e>10){for(var n=e/10,i=0;i<n;i++)this.colors=this.colors.concat(this.defaultColors);var r=e%10;this.colors=this.colors.concat(this.defaultColors.slice(0,r))}localStorage.setItem("Userinput",this.UserNameString),this.forceRerender()},forceRerender:function(){this.componentKey+=1}},components:{LotteryTurntable:r.a},mounted:function(){if(localStorage.getItem("Userinput")){this.UserNameString=localStorage.getItem("Userinput"),this.rests=this.UserNameString.split(",");var t=this.rests.length;if(this.colors=this.defaultColors,t>10){for(var e=t/10,n=0;n<e;n++)this.colors=this.colors.concat(this.defaultColors);var i=t%10;this.colors=this.colors.concat(this.defaultColors.slice(0,i))}}}}},50:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(51),r=n(108),s=n.n(r),a=n(106),o=n.n(a),l=n(107),g=n.n(l);e.default={data:function(){return{imgSrc:s.a,shanImg:o.a,sorryImg:g.a,lottery:null,turnplate:{outsideRadius:192,textRadius:155,insideRadius:68,startAngle:1.5*Math.PI}}},props:{restaraunts:{type:Array,default:[]},colors:Array},computed:{oldrestaraunts:function(){return this.restaraunts.reverse()}},mounted:function(){var t=this;this.loadImgs(function(){t.drawRouletteWheel(),t.prepareLottery()})},methods:{drawRouletteWheel:function(){var t=document.getElementById("wheelcanvas"),e=this.turnplate;if(t.getContext){var n=Math.PI/(this.restaraunts.length/2),i=t.getContext("2d");i.clearRect(0,0,422,422),i.strokeStyle="#FFBE04",i.font="16px Microsoft YaHei";for(var r=0;r<this.restaraunts.length;r++){var s=e.startAngle+r*n;i.fillStyle=this.colors[r],i.beginPath(),i.arc(211,211,e.outsideRadius,s,s+n,!1),i.arc(211,211,e.insideRadius,s+n,s,!0),i.stroke(),i.fill(),i.save(),i.fillStyle="#E5302F";var a=this.restaraunts[r];if(i.translate(211+Math.cos(s+n/2)*e.textRadius,211+Math.sin(s+n/2)*e.textRadius),i.rotate(s+n/2+Math.PI/2),a.indexOf("M")>0)for(var o=a.split("M"),l=0;l<o.length;l++)i.font=0==l?"bold 20px Microsoft YaHei":"16px Microsoft YaHei",0==l?i.fillText(o[l]+"M",-i.measureText(o[l]+"M").width/2,17*l):i.fillText(o[l],-i.measureText(o[l]).width/2,17*l);else if(-1==a.indexOf("M")&&a.length>6){a=a.substring(0,6)+"||"+a.substring(6);for(var o=a.split("||"),l=0;l<o.length;l++)i.fillText(o[l],-i.measureText(o[l]).width/2,17*l)}else i.fillText(a,-i.measureText(a).width/2,0);if(a.indexOf("闪币")>0){var g=document.getElementById("shan-img");i.drawImage(g,-15,10)}else if(a.indexOf("谢谢参与")>=0){var g=document.getElementById("sorry-img");i.drawImage(g,-15,10)}i.restore()}}},prepareLottery:function(){var t=this,e=(this.turnplate,new i.a(document.getElementById("wheelcanvas"),{speed:30,areaNumber:this.restaraunts.length})),n=-1;e.on("start",function(){n=Math.round(Math.random()*(t.restaraunts.length-1)),e.setResult(n)}),e.on("end",function(){console.log("中奖奖区："+n),alert(t.oldrestaraunts[n])}),this.lottery=e},startGame:function(){this.lottery.draw()},loadImgs:function(t){for(var e=0,n=[document.getElementById("shan-img"),document.getElementById("sorry-img")],i=0,r=n.length;i<r;i++)!function(i){i.onload=function(){++e===n.length&&t&&t()}}(n[i])}},components:{}}},51:function(t,e,n){"use strict";var i=n(31),r=n.n(i),s=n(59),a=n.n(s),o=n(32),l=n.n(o),g=n(33),u=n.n(g),c=n(64),h=n.n(c),A=n(63),v=n.n(A),d=(n(52),n(53)),f=n(54),m=n(55),T=function(t){function e(t,n){l()(this,e);var i=h()(this,(e.__proto__||a()(e)).call(this));return i.options=r()({speed:30,areaNumber:8,deviation:2},n),i.pointer=t,i.init(),i}return v()(e,t),u()(e,[{key:"init",value:function(){this._transform=n.i(f.a)(this.pointer,"transform","translate3d(0,0,0)"),n.i(f.a)(this.pointer,"backfaceVisibility","hidden"),n.i(f.a)(this.pointer,"perspective","1000px"),this._raf=null,this._runAngle=0,this._targetAngle=-1}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reset";this._raf&&(n.i(m.a)(this._raf),this._raf=null,this._runAngle=0,this._targetAngle=-1,this.trigger(t),"reset"===t&&n.i(f.a)(this.pointer,this._transform,"translate3d(0,0,0) rotate(0deg)"))}},{key:"setResult",value:function(t){var e=360/this.options.areaNumber,n=Math.random()*e;n=Math.max(this.options.deviation,n),n=Math.min(e-this.options.deviation,n),n=Math.ceil(n+t*e),this._runAngle=0,this._targetAngle=n+360*(Math.floor(4*Math.random())+4)}},{key:"step",value:function(){var t=this;-1===this._targetAngle?this._runAngle+=this.options.speed:(this._angle=(this._targetAngle-this._runAngle)/this.options.speed,this._angle=this._angle>this.options.speed?this.options.speed:this._angle<.5?.5:this._angle,this._runAngle+=this._angle,this._runAngle=this._runAngle>this._targetAngle?this._targetAngle:this._runAngle),n.i(f.a)(this.pointer,this._transform,"translate3d(0,0,0) rotate("+this._runAngle%360+"deg)"),this._runAngle===this._targetAngle?this.reset("end"):this._raf=n.i(m.b)(function(){return t.step()})}},{key:"draw",value:function(){var t=this;this._raf||(this.has("start")&&this.trigger("start"),this._angle=0,this._raf=n.i(m.b)(function(){return t.step()}))}}]),e}(d.a);e.a=T},52:function(t,e,n){"use strict";var i=n(31),r=n.n(i);Object.assign=r.a||function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e};r.a},53:function(t,e,n){"use strict";var i=n(32),r=n.n(i),s=n(33),a=n.n(s),o=function(){function t(){r()(this,t),this._queue=[]}return a()(t,[{key:"on",value:function(t,e){return this._queue[t]=this._queue[t]||[],this._queue[t].push(e),this}},{key:"off",value:function(t,e){if(this._queue[t]){var n=void 0===e?-2:this._queue[t].indexOf(e);-2===n?delete this._queue[t]:-1!==n&&this._queue[t].splice(n,1),this._queue[t]&&0===this._queue[t].length&&delete this._queue[t]}return this}},{key:"has",value:function(t){return!!this._queue[t]}},{key:"trigger",value:function(t){for(var e=this,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return this._queue[t]&&this._queue[t].forEach(function(t){return t.apply(e,i)}),this}}]),t}();e.a=o},54:function(t,e,n){"use strict";e.a=function(t,e,n){if(void 0===t.style[e])for(var i=["webkit","ms","moz","o",null],r=0;r<i.length;r++){var s=i[r];if(!s)return null;if(e=function(t){return t.replace(/-([a-z])/gi,function(t,e){return e.toUpperCase()})}(s+"-"+e),void 0!==t.style[e])break}return n&&(t.style[e]=n),e}},55:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return s});var i=0,r=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-i)),r=window.setTimeout(function(){t(e+n)},n);return i=e+n,r},s=window.cancelAnimationFrame||window.msCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.oCancelAnimationFrame||function(t){clearInterval(t)}},56:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(48),r=n(47),s=n.n(r);i.a.config.productionTip=!1,new i.a({el:"#app",template:"<App/>",components:{App:s.a}})}},[56]);
//# sourceMappingURL=app.991794ff4536e2f36fe7.js.map